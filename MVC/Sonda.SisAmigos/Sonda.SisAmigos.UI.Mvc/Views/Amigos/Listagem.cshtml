@{
    Layout = null;
}

@* Estamos passando o caminho da pasta model para trabalhar com a classe modelo *@
@using Sonda.SisAmigos.UI.Mvc.Models

@* Estamos fazendo o model bind para descer os dados da classe modelo em forma de lista *@
@model IEnumerable<AmigosModel>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Listagem</title>
    @* Estamos licando o tema do bootstrap na nossa view *@
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    <div>

        <header> ..:: Listagem de Registros ::.. </header>

        <form method="get">
            <fieldset>
                <legend> ..:: Filtro ::.. </legend>
                <br />
                <input name="nome" id="nome" type="text" />
                &nbsp;
                &nbsp;
                <input name="buscar" id="buscar" type="submit" formaction="Filtrar" />
            </fieldset>
            <br />
            <a href="/Amigos/Adicionar">Adicionar Registro</a>
            <br />
            <br />

            @if (Model.Count() == 0)
            {
                <div class="alert alert-danger">
                    <p>@ViewBag.Alerta</p>
                </div>
            }

            <br />
            <br />
            <table class="table table-condensed table-hover">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>RG</th>
                        <th>CPF</th>
                        <th>Data Nascimento</th>
                        <th>Email</th>
                        <th>Estado Civil</th>
                        <th>Sexo</th>
                        <th>Editar</th>
                    </tr>
                </thead>
                <tbody>

                    @* Para popular a nossa tabela em tempo de execução utilizamos o laço de repetição foreach, pegando a coleção
                        de dados vindas do model bind *@
                    @foreach (var coluna in Model)
                    {
                        <tr>
                            @* Povoando as colunas da tabela *@
                            <td>@coluna.Nome</td>
                            <td>@coluna.Rg</td>
                            <td>@coluna.Cpf</td>
                            <td>@coluna.Data_Nascimento</td>
                            <td>@coluna.Email</td>
                            <td>@coluna.Estado_Civil</td>
                            <td>@coluna.Sexo</td>
                            <td><a href="/Amigos/Editar/@coluna.ID"><span class="glyphicon glyphicon-pencil"></span></a></td>
                        </tr>
                    }

                </tbody>
                <tfoot>
                    <tr><td>Total de: @Model.Count() Registro</td></tr>
                </tfoot>
            </table>
        </form>
    </div>
</body>
</html>
