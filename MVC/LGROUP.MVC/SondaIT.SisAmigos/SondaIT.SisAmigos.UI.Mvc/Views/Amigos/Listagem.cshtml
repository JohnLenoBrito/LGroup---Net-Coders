@{
    Layout = null;
}
@* ESTAMOS PASSANDO O CAMINHO DA PASTA MODELS PARA TRBALHAR COM A CLASSE MODELO *@
@using SondaIT.SisAmigos.UI.Mvc.Models

@* ESTAMOS FAZENDO O MODEL BIND PARA DESCER DADOS DA CLASSE MODELO EM FORMA DE LISTA *@
@model IEnumerable<AmigosModel>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Listagem</title>
    @* ESTAMOS LINCANDO O TEMA DO BOOTSTRAP NA NOSSA VIEW *@
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />

</head>
<body>
    <div>
        <header> ...::Listagem de registros::...</header>
        <form method="get">
            <fieldset>
                <legend>..:: Filtro ::..</legend>
                <br />
                <input name="nome" id="nome" type="text" />
                &nbsp;
                &nbsp;
                <input name="buscar" id="buscar" type="submit" formaction="Filtrar"/>
            </fieldset>
            <br/>
            <a href="/Amigos/Adicionar">ADICIONAR REGISTRO</a>
            <br/>
            <br/>
            @*  *@
            @if (Model.Count() == 0)
            {
                <div class="alert alert-warning">
                    <p>@ViewBag.Alerta</p>
                </div>
            }
            <br/>
            <br/>
            <table class="table table-condensed table-hover">
                <thead>
                    <tr>
                        <th>NOME</th>
                        <th>RG</th>
                        <th>CPF</th>
                        <th>DATA NASCIMENTO</th>
                        <th>EMAIL</th>
                        <th>ESTADO CIVIL</th>
                        <th>SEXO</th>
                        <th>EDITAR</th>
                    </tr>
                </thead>
                <tbody>
                    @* PARA PODER POPULAR A NOSSA TABELA EM TEMPO DE EXECUÇÃO
                        UTILIZAMOS O LAÇO DE REPETIÇÃO FOREACH, PEGANDO A COLEÇÃO
                        DE DADOS VIDAS DO MODEL BIND *@
                    @foreach (var item in Model)
                    {
                        <tr>
                            @* POVOANDO AS COLUNAS DA TABELA *@
                            <td>@item.NOME</td>
                            <td>@item.RG</td>
                            <td>@item.CPF</td>
                            <td>@item.DATA_NASCIMENTO</td>
                            <td>@item.EMAIL</td>
                            <td>@item.ESTADO_CIVIL</td>
                            <td>@item.SEXO</td>
                            <td><a href="/Amigos/Editar/@item.ID">
                                <span class="glyphicon glyphicon-pencil"></span>
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td>TOTAL DE : @Model.Count() REGISTRO</td>
                    </tr>
                </tfoot>
            </table>
        </form>
    </div>
</body>
</html>
